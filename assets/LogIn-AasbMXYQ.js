import{u as b,a as I,r as l,t as L,j as s,L as N,B as o,s as k,b as u,c as y,G as D,A as S,d as m,p as U}from"./index-4TuXYIMR.js";import{T as h}from"./TextField-uO4fhLup.js";import{B as f,a as W}from"./Select-PZ1lkyFr.js";import{C}from"./CircularProgress-u9Cic09T.js";const B=()=>{const c=b(),i=I(),[g,n]=l.useState(!1),[r,p]=l.useState({email:"",password:""}),d=(e,a)=>{p({...r,[a]:e.target.value})},x=e=>{if(e.preventDefault(),r.name==""&&r.email==""){o.error("Fill the correct Data!");return}n(!0),k(u,r.email,r.password).then(a=>{const t=a.user;console.log(t),n(!1),o.success("User Login Successfuly âœ…"),c("/dashbord")}).catch(a=>{a.code;const t=a.message;n(!1),o.error(t)})};l.useEffect(()=>{localStorage.getItem("theme")==="dark"&&(document.documentElement.classList.add("dark"),i(L("dark")))},[]);function w(){y(u,U).then(e=>{D.credentialFromResult(e).accessToken;const t=e.user;console.log(t),j(t),i(S(t)),o.success("User LogIn Successfully ðŸ˜„"),c("/dashbord")}).catch(e=>{e.code;const a=e.message;o.error(a)})}async function j(e){const a=doc(m,"users",e.uid);if((await getDoc(a)).exists())o.error("Doc Exists!");else try{await setDoc(doc(m,"users",e.uid),{email:e.email,photoURL:e.photoURL,createdAt:new Date,displayName:e.displayName}),o.success("Doc Created")}catch(v){o.error(v.message)}}return s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"flex flex-col gap-10 justify-center items-center h-full w-full",children:[s.jsx("h1",{className:"text-3xl font-bold dark:text-slate-200",children:"ðŸ¤‘ Log In On Financely ðŸ’¸"}),s.jsxs("form",{onSubmit:x,className:"flex flex-col w-96 items-center shadow-xl p-5 gap-3 rounded-lg bg-white dark:bg-black/25",children:[s.jsx(h,{name:"email",value:r.email,fullWidth:!0,label:"Email",variant:"standard",onChange:e=>{d(e,e.target.name)}}),s.jsx(h,{name:"password",value:r.password,fullWidth:!0,type:"password",label:"Password",variant:"standard",onChange:e=>{d(e,e.target.name)}}),s.jsxs("div",{className:"w-full flex flex-col items-center pt-8 gap-2",children:[s.jsx(f,{type:"submit",fullWidth:!0,variant:"outlined",children:"Log In"}),s.jsx("span",{children:"or"}),s.jsx(f,{onClick:w,fullWidth:!0,variant:"contained",children:"Log In With Google"}),s.jsxs("p",{className:"mt-6",children:["If You Don't Have Account, ",s.jsx(N,{to:"/",className:"text-blue-600 font-bold underline",children:"New User?"})]})]})]})]}),s.jsx(W,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:g,children:s.jsx(C,{color:"inherit"})})]})};export{B as default};
