import{r as x,i as v,a as S}from"./Dashbord-n7TepkuL.js";import{j as e,r as _,R,a as M,d as p,V as A,X as N,f as k,Y as T,B as f,Z as B}from"./index-4TuXYIMR.js";import{M as F,B as h}from"./Select-PZ1lkyFr.js";import{B as O,A as $}from"./Box-nMzVZLWr.js";import{T as o}from"./TextField-uO4fhLup.js";var d={},w=v;Object.defineProperty(d,"__esModule",{value:!0});var I=d.default=void 0,E=w(x()),W=e;I=d.default=(0,E.default)((0,W.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz");var i={},q=v;Object.defineProperty(i,"__esModule",{value:!0});var z=i.default=void 0,H=q(x()),P=e;z=i.default=(0,H.default)((0,P.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,border:"2px solid #000",boxShadow:24,p:4,borderRadius:"1rem"},U=["Others","Shoping","Freelancing","Share Market","Rent","Insurance","Fuel","Entertainment","Food"];function K({open:b,setOpen:g,handleOpen:V,isCredit:c}){const u={name:"",amount:"",tag:"Others",date:"",type:c?"Credit":"Debit"},[s,r]=_.useState(u),{user:m}=R(a=>a.User),j=M(),n=()=>g(!1),y=a=>{a.preventDefault(),console.log(s),D({...s,createdAt:Number(new Date)}),r(u),n()};async function D(a){try{const t=await N(A(p,`users/${m.uid}/transactions`),a);let C=k(p,`users/${m.uid}/transactions/${t.id}`);await T(C,{id:t.id}),f.success("Transaction Success!"),j(B())}catch{f.error("Transaction Faild")}}const l=(a,t)=>{r({...s,[t]:a.target.value})};return e.jsx("div",{children:e.jsx(F,{open:b,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",className:"backdrop-blur-sm",children:e.jsxs(O,{sx:L,className:"bg-slate-200 dark:bg-slate-800",children:[e.jsx(S,{className:" text-slate-900 dark:text-slate-100 pb-4",id:"modal-modal-title",variant:"h6",component:"h2",children:c?"Add Incomes and Credits":"Add Expence and Debits"}),e.jsxs("form",{onSubmit:y,className:"flex flex-col gap-4",children:[e.jsx(o,{value:s.name,name:"name",onChange:a=>{l(a,a.target.name)},fullWidth:!0,label:"Name",variant:"standard"}),e.jsx(o,{value:s.amount,name:"amount",onChange:a=>{l(a,a.target.name)},type:"number",fullWidth:!0,label:"Amount",variant:"standard"}),e.jsx(o,{value:s.date,name:"date",onChange:a=>{l(a,a.target.name)},type:"date",fullWidth:!0,label:" ",variant:"standard"}),e.jsx($,{size:"small",fullWidth:!0,freeSolo:!0,disablePortal:!0,id:"combo-box-demo",options:U,getOptionLabel:a=>a,value:s.tag,onChange:(a,t)=>{console.log(t,a),r({...s,tag:t})},renderInput:a=>e.jsx(o,{fullWidth:!0,variant:"standard",onChange:t=>{r({...s,tag:t.target.value}),console.log(t.target.value)},...a,label:"Tags"})}),e.jsxs("div",{className:"flex w-full items-center justify-between mt-10",children:[e.jsx(h,{className:"text-slate-900 dark:text-slate-100",onClick:n,variant:"outline",children:"Cancel"}),e.jsx(h,{className:"text-slate-900 dark:text-slate-100",type:"submit",children:"Add"})]})]})]})})})}export{K as B,I as a,z as d};
