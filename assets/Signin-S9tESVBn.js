import{a as P,u as y,r as i,t as C,j as a,L,B as o,e as W,b as h,A as f,f as g,d as p,g as k,h as N,c as D,G as I,p as U}from"./index-4TuXYIMR.js";import{T as l}from"./TextField-uO4fhLup.js";import{B as x,a as E}from"./Select-PZ1lkyFr.js";import{C as A}from"./CircularProgress-u9Cic09T.js";const M=()=>{const c=P(),u=y(),[w,d]=i.useState(!1),[s,v]=i.useState({name:"",email:"",password:"",conformPassword:""}),n=(e,t)=>{v({...s,[t]:e.target.value})},j=e=>{if(e.preventDefault(),s.name==""&&s.email==""){o.error("Fill Correct Data!");return}if(s.password.length<6){o.error("Password Length Shoud me More that 6");return}if(s.password!==s.conformPassword){o.error("Password Shoud me Match");return}d(!0),W(h,s.email,s.password).then(t=>{const r=t.user;console.log(r),d(!1),o.success("User Login Successfuly âœ…"),c(f(r)),u("/dashbord"),m(r)}).catch(t=>{t.code;const r=t.message;d(!1),o.error(r)})};async function m(e){const t=g(p,"users",e.uid);if((await k(t)).exists())o.error("Doc Exists!");else try{await N(g(p,"users",e.uid),{email:e.email,photoURL:e.photoURL,createdAt:new Date,displayName:e.displayName}),o.success("Doc Created")}catch(S){o.error(S.message)}}function b(){D(h,U).then(e=>{I.credentialFromResult(e).accessToken;const r=e.user;console.log(r),m(r),c(f(r)),o.success("User LogIn Successfully ðŸ˜„"),u("/dashbord")}).catch(e=>{e.code;const t=e.message;o.error(t)})}return i.useEffect(()=>{localStorage.getItem("theme")==="dark"&&(document.documentElement.classList.add("dark"),c(C("dark")))},[]),a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col gap-10 justify-center items-center h-full w-full",children:[a.jsx("h1",{className:"text-3xl font-bold dark:text-slate-200",children:"ðŸ¤‘ Sign Up On Financely ðŸ’¸"}),a.jsxs("form",{onSubmit:j,className:"flex flex-col w-96 items-center shadow-xl p-5 gap-3 rounded-lg bg-white  dark:bg-black/25",children:[a.jsx(l,{name:"name",value:s.name,fullWidth:!0,label:"Name",variant:"standard",onChange:e=>{n(e,e.target.name)}}),a.jsx(l,{name:"email",value:s.email,fullWidth:!0,label:"Email",variant:"standard",onChange:e=>{n(e,e.target.name)}}),a.jsx(l,{name:"password",value:s.password,fullWidth:!0,type:"password",label:"Password",variant:"standard",onChange:e=>{n(e,e.target.name)}}),a.jsx(l,{name:"conformPassword",value:s.conformPassword,fullWidth:!0,type:"password",label:"Conform Password",variant:"standard",onChange:e=>{n(e,e.target.name)}}),a.jsxs("div",{className:"w-full flex flex-col items-center pt-8 gap-2",children:[a.jsx(x,{type:"submit",fullWidth:!0,variant:"outlined",children:"Signup With Email"}),a.jsx("span",{children:"or"}),a.jsx(x,{onClick:b,fullWidth:!0,variant:"contained",children:"Signup With Google"}),a.jsxs("p",{className:"mt-2",children:["Alredy Have Account, ",a.jsx(L,{to:"/login",className:"text-blue-600 font-bold underline",children:"Log In"})]})]})]})]}),a.jsx(E,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:w,children:a.jsx(A,{color:"inherit"})})]})};export{M as default};
