import{u as b,a as I,r as i,j as s,L,B as o,s as N,b as d,c as y,G as D,A as S,d as u,p as U}from"./index-nijxLQ7m.js";import{T as m}from"./TextField-MTjuqWXG.js";import{B as h,a as W}from"./Select-FBwuympS.js";import{C}from"./CircularProgress-518PjL52.js";import"./useIsFocusVisible-_IA0-LNT.js";import"./Grow-Di8_SzDN.js";import"./Portal-0qmo-QrX.js";const G=()=>{const l=b(),p=I(),[f,n]=i.useState(!1),[r,g]=i.useState({email:"",password:""}),c=(e,a)=>{g({...r,[a]:e.target.value})},x=e=>{if(e.preventDefault(),r.name==""&&r.email==""){o.error("Fill the correct Data!");return}n(!0),N(d,r.email,r.password).then(a=>{const t=a.user;console.log(t),n(!1),o.success("User Login Successfuly âœ…"),l("/dashbord")}).catch(a=>{a.code;const t=a.message;n(!1),o.error(t)})};function j(){y(d,U).then(e=>{D.credentialFromResult(e).accessToken;const t=e.user;console.log(t),v(t),p(S(t)),o.success("User LogIn Successfully ðŸ˜„"),l("/dashbord")}).catch(e=>{e.code;const a=e.message;o.error(a)})}async function v(e){const a=doc(u,"users",e.uid);if((await getDoc(a)).exists())o.error("Doc Exists!");else try{await setDoc(doc(u,"users",e.uid),{email:e.email,photoURL:e.photoURL,createdAt:new Date,displayName:e.displayName}),o.success("Doc Created")}catch(w){o.error(w.message)}}return s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"flex flex-col gap-10 justify-center items-center h-full w-full",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"ðŸ¤‘ Log In On Financely ðŸ’¸"}),s.jsxs("form",{onSubmit:x,className:"flex flex-col w-96 items-center border-2 p-5 gap-3 rounded-lg bg-slate-100",children:[s.jsx(m,{name:"email",value:r.email,fullWidth:!0,label:"Email",variant:"standard",onChange:e=>{c(e,e.target.name)}}),s.jsx(m,{name:"password",value:r.password,fullWidth:!0,type:"password",label:"Password",variant:"standard",onChange:e=>{c(e,e.target.name)}}),s.jsxs("div",{className:"w-full flex flex-col items-center pt-8 gap-2",children:[s.jsx(h,{type:"submit",fullWidth:!0,variant:"outlined",children:"Log In"}),s.jsx("span",{children:"or"}),s.jsx(h,{onClick:j,fullWidth:!0,variant:"contained",children:"Log In With Google"}),s.jsxs("p",{className:"mt-6",children:["If You Don't Have Account, ",s.jsx(L,{to:"/",className:"text-blue-600 font-bold underline",children:"New User?"})]})]})]})]}),s.jsx(W,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:f,children:s.jsx(C,{color:"inherit"})})]})};export{G as default};
